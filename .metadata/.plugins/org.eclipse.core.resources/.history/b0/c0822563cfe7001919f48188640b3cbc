package logica;
import java.util.*;
public class Juego {

	private ArrayList<Jugador> topScores;
	private Partida partidaActual;
	
	
	public Juego() {
		this.topScores = new ArrayList<Jugador>();
	}
	
	
	public void nuevoJuego(String nombre){
		this.partidaActual = new Partida(nombre);
	};
	
	
	/** Realiza un ciclo de la partida. Además, si la partida terminó agrega al jugador a la lista **/
	public void turno(String dir, int martillazos) {
		if (this.partidaActual.ciclo(dir, martillazos)) {
			if (!(this.topScores.contains(this.partidaActual.getJugador()))) {
				if (!this.topScores.isEmpty()) {
					if (this.partidaActual.getJugador().getPuntaje() > Collections.min(this.topScores).getPuntaje()) {
						this.topScores.add(this.partidaActual.getJugador());
						this.topScores.remove(Collections.min(this.topScores));
						Collections.sort(this.topScores);
					}
				} else this.topScores.add(this.partidaActual.getJugador());
			}
		}
	}
	
	public void imprimirTopScores() {
		System.out.println("------------Mejores puntajes------------");
		for (Jugador jug : this.topScores) {
			System.out.println(jug.toString());
		}
		System.out.println("----------------------------------------");
	}
}